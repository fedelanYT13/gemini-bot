const _0x36b94b=_0x2211;(function(_0x91395d,_0x4cee53){const _0x3a0fe6=_0x2211,_0x4ffd8b=_0x91395d();while(!![]){try{const _0x4d928f=parseInt(_0x3a0fe6(0x187))/0x1+parseInt(_0x3a0fe6(0x174))/0x2*(-parseInt(_0x3a0fe6(0x14b))/0x3)+parseInt(_0x3a0fe6(0x169))/0x4*(-parseInt(_0x3a0fe6(0x15c))/0x5)+-parseInt(_0x3a0fe6(0x157))/0x6*(-parseInt(_0x3a0fe6(0x16a))/0x7)+parseInt(_0x3a0fe6(0x14e))/0x8+parseInt(_0x3a0fe6(0x15b))/0x9*(parseInt(_0x3a0fe6(0x17e))/0xa)+parseInt(_0x3a0fe6(0x165))/0xb*(parseInt(_0x3a0fe6(0x156))/0xc);if(_0x4d928f===_0x4cee53)break;else _0x4ffd8b['push'](_0x4ffd8b['shift']());}catch(_0x34fb82){_0x4ffd8b['push'](_0x4ffd8b['shift']());}}}(_0x5f0d,0x39617));function _0x5f0d(){const _0x1ba78a=['chats','❀\x20Debes\x20especificar\x20un\x20personaje.\x0a>\x20Ejemplo\x20»\x20*','10308nAgDYu','1853406TVSfXb','isArray','ꕥ\x20Página\x20no\x20válida.\x20Hay\x20un\x20total\x20de\x20*','map','5463zxpfJE','215jtlJIO','wfav','./package.json','max','favorite','includes','ꕥ\x20El\x20personaje\x20*','\x20\x20\x20♡\x20','gacha\x20on*','187DGCOsV','delfav','favboard','favoritetop','29972WmmESU','7injGbM','ceil','slice','join','find','string','tags','characters','deletefav','❀\x20Se\x20ha\x20reemplazado\x20tu\x20favorito\x20*','2wWYCbB','parse','readFile','personaje\x20anterior','>*\x20solo\x20está\x20disponible\x20para\x20Yuki\x20Suou.\x0a>\x20https://github.com/The-King-Destroy/YukiBot-MD','\x0a>\x20Página\x20','trim','name','ꕥ\x20No\x20se\x20encontró\x20el\x20personaje\x20*','*\x20páginas.','960EoRcdR','favorites','ꕥ\x20Los\x20comandos\x20de\x20*Gacha*\x20están\x20desactivados\x20en\x20este\x20grupo.\x0a\x0aUn\x20*administrador*\x20puede\x20activarlos\x20con\x20el\x20comando:\x0a»\x20*','*\x20por\x20*','chat','entries','data','*\x20no\x20está\x20reclamado\x20por\x20ti.','setfav','395903mkfpqM','*\x20es\x20tu\x20personaje\x20favorito!','❀\x20El\x20comando\x20*<','report*\x20para\x20informarlo.\x0a\x0a','length','users','⚠︎\x20Se\x20ha\x20producido\x20un\x20problema.\x0a>\x20Usa\x20*','group','❀\x20Ahora\x20*','utf-8','isGroup','favtop','./lib/characters.json','reply','789720picroE','repository','✰\x20Top\x20de\x20personajes\x20favoritos:\x0a\x0a','342328ZFaAKz','\x20»\x20*','command','sender','\x20Yuki\x20Suou*','gacha'];_0x5f0d=function(){return _0x1ba78a;};return _0x5f0d();}import{promises as _0x4b3f35}from'fs';const charactersFilePath=_0x36b94b(0x149);async function loadCharacters(){const _0x43aba1=_0x36b94b,_0x241e60=await _0x4b3f35[_0x43aba1(0x176)](charactersFilePath,_0x43aba1(0x146));return JSON['parse'](_0x241e60);}function flattenCharacters(_0x207baf){const _0x52b567=_0x36b94b;return Object['values'](_0x207baf)['flatMap'](_0x51e118=>Array[_0x52b567(0x158)](_0x51e118['characters'])?_0x51e118[_0x52b567(0x171)]:[]);}const verifi=async()=>{const _0x25ac74=_0x36b94b;try{const _0x41fcc3=await _0x4b3f35[_0x25ac74(0x176)](_0x25ac74(0x15e),_0x25ac74(0x146)),_0x283bf9=JSON[_0x25ac74(0x175)](_0x41fcc3);return _0x283bf9[_0x25ac74(0x14c)]?.['url']==='git+https://github.com/The-King-Destroy/YukiBot-MD.git';}catch{return![];}},handler=async(_0x1b0bd6,{conn:_0x591214,args:_0x35bc85,usedPrefix:_0x216e50,command:_0x79ff7d})=>{const _0x1280b6=_0x36b94b;if(!await verifi())return _0x591214[_0x1280b6(0x14a)](_0x1b0bd6[_0x1280b6(0x182)],_0x1280b6(0x13f)+_0x79ff7d+_0x1280b6(0x178),_0x1b0bd6);if(!global['db'][_0x1280b6(0x184)][_0x1280b6(0x154)]?.[_0x1b0bd6[_0x1280b6(0x182)]]?.[_0x1280b6(0x153)]&&_0x1b0bd6[_0x1280b6(0x147)])return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x180)+_0x216e50+_0x1280b6(0x164));if(!global['db'][_0x1280b6(0x184)]['characters'])global['db'][_0x1280b6(0x184)][_0x1280b6(0x171)]={};if(!global['db']['data']['users'])global['db'][_0x1280b6(0x184)][_0x1280b6(0x142)]={};try{const _0x5b80ff=await loadCharacters(),_0x560364=flattenCharacters(_0x5b80ff),_0x2890fb=global['db'][_0x1280b6(0x184)]['users'][_0x1b0bd6[_0x1280b6(0x151)]];if(!Array[_0x1280b6(0x158)](_0x2890fb[_0x1280b6(0x171)]))_0x2890fb[_0x1280b6(0x171)]=[];switch(_0x79ff7d){case _0x1280b6(0x186):case _0x1280b6(0x15d):{if(!_0x35bc85[_0x1280b6(0x141)])return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x155)+(_0x216e50+_0x79ff7d)+_0x1280b6(0x152));const _0x1f28b2=_0x35bc85[_0x1280b6(0x16d)]('\x20')['toLowerCase']()[_0x1280b6(0x17a)](),_0x3bf66c=_0x560364[_0x1280b6(0x16e)](_0x5d0d6f=>_0x5d0d6f['name']['toLowerCase']()===_0x1f28b2);if(!_0x3bf66c)return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x17c)+_0x1f28b2+'*.');if(!_0x2890fb[_0x1280b6(0x171)][_0x1280b6(0x161)](_0x3bf66c['id']))return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x162)+_0x3bf66c[_0x1280b6(0x17b)]+_0x1280b6(0x185));const _0x43d5db=_0x2890fb[_0x1280b6(0x160)];_0x2890fb[_0x1280b6(0x160)]=_0x3bf66c['id'];if(_0x43d5db&&_0x43d5db!==_0x3bf66c['id']){const _0x22faf0=global['db'][_0x1280b6(0x184)][_0x1280b6(0x171)]?.[_0x43d5db],_0x5d6856=typeof _0x22faf0?.[_0x1280b6(0x17b)]==='string'?_0x22faf0[_0x1280b6(0x17b)]:_0x1280b6(0x177);return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x173)+_0x5d6856+_0x1280b6(0x181)+_0x3bf66c[_0x1280b6(0x17b)]+'*!');}return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x145)+_0x3bf66c[_0x1280b6(0x17b)]+_0x1280b6(0x13e));break;}case _0x1280b6(0x148):case _0x1280b6(0x168):case _0x1280b6(0x167):{const _0x16a4bf={};for(const [,_0x1bd950]of Object[_0x1280b6(0x183)](global['db'][_0x1280b6(0x184)][_0x1280b6(0x142)])){const _0x484f2e=_0x1bd950[_0x1280b6(0x160)];if(_0x484f2e)_0x16a4bf[_0x484f2e]=(_0x16a4bf[_0x484f2e]||0x0)+0x1;}const _0x1ebce2=_0x560364[_0x1280b6(0x15a)](_0x303a6c=>({'name':_0x303a6c['name'],'favorites':_0x16a4bf[_0x303a6c['id']]||0x0}))['filter'](_0x29b80f=>_0x29b80f[_0x1280b6(0x17f)]>0x0),_0x536455=parseInt(_0x35bc85[0x0])||0x1,_0x47b488=0xa,_0x3adfc0=Math[_0x1280b6(0x15f)](0x1,Math[_0x1280b6(0x16b)](_0x1ebce2[_0x1280b6(0x141)]/_0x47b488));if(_0x536455<0x1||_0x536455>_0x3adfc0)return _0x1b0bd6[_0x1280b6(0x14a)](_0x1280b6(0x159)+_0x3adfc0+_0x1280b6(0x17d));const _0x2e99ac=_0x1ebce2['sort']((_0x219111,_0x22dfb4)=>_0x22dfb4[_0x1280b6(0x17f)]-_0x219111[_0x1280b6(0x17f)]),_0x44c988=_0x2e99ac[_0x1280b6(0x16c)]((_0x536455-0x1)*_0x47b488,_0x536455*_0x47b488);let _0x143693=_0x1280b6(0x14d);_0x44c988['forEach']((_0x5dbf15,_0x103516)=>{const _0x1170fc=_0x1280b6;_0x143693+='#'+((_0x536455-0x1)*_0x47b488+_0x103516+0x1)+_0x1170fc(0x14f)+_0x5dbf15[_0x1170fc(0x17b)]+'*\x0a',_0x143693+=_0x1170fc(0x163)+_0x5dbf15[_0x1170fc(0x17f)]+'\x20favorito'+(_0x5dbf15['favorites']!==0x1?'s':'')+'.\x0a';}),_0x143693+=_0x1280b6(0x179)+_0x536455+'\x20de\x20'+_0x3adfc0,await _0x591214['reply'](_0x1b0bd6['chat'],_0x143693['trim'](),_0x1b0bd6);break;}case _0x1280b6(0x172):case _0x1280b6(0x166):{if(!_0x2890fb['favorite'])return _0x1b0bd6['reply']('❀\x20No\x20tienes\x20ningún\x20personaje\x20marcado\x20como\x20favorito.');const _0x28e31f=_0x2890fb['favorite'],_0xe5ae0f=global['db'][_0x1280b6(0x184)][_0x1280b6(0x171)]?.[_0x28e31f]||{};let _0x47a5ab=typeof _0xe5ae0f['name']===_0x1280b6(0x16f)?_0xe5ae0f['name']:null;if(!_0x47a5ab){const _0x43990d=_0x560364[_0x1280b6(0x16e)](_0xc28d96=>_0xc28d96['id']===_0x28e31f);_0x47a5ab=_0x43990d?.[_0x1280b6(0x17b)]||'personaje\x20desconocido';}delete _0x2890fb[_0x1280b6(0x160)],_0x1b0bd6[_0x1280b6(0x14a)]('✎\x20*'+_0x47a5ab+'*\x20ha\x20dejado\x20de\x20ser\x20tu\x20personaje\x20favorito.');break;}}}catch(_0x242d4e){await _0x591214[_0x1280b6(0x14a)](_0x1b0bd6[_0x1280b6(0x182)],_0x1280b6(0x143)+_0x216e50+_0x1280b6(0x140)+_0x242d4e['message'],_0x1b0bd6);}};handler['help']=[_0x36b94b(0x186),_0x36b94b(0x148),_0x36b94b(0x166)],handler[_0x36b94b(0x170)]=[_0x36b94b(0x153)],handler[_0x36b94b(0x150)]=[_0x36b94b(0x186),'wfav',_0x36b94b(0x148),_0x36b94b(0x168),'favboard',_0x36b94b(0x172),_0x36b94b(0x166)],handler[_0x36b94b(0x144)]=!![];function _0x2211(_0x16e1dd,_0x375e76){const _0x5f0df1=_0x5f0d();return _0x2211=function(_0x22114d,_0x464d38){_0x22114d=_0x22114d-0x13e;let _0x5e6c3e=_0x5f0df1[_0x22114d];return _0x5e6c3e;},_0x2211(_0x16e1dd,_0x375e76);}export default handler;