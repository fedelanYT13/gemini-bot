const _0xb867f1=_0x1a6d;(function(_0x7b61f0,_0x5b34b9){const _0x591ebe=_0x1a6d,_0x2b1ff8=_0x7b61f0();while(!![]){try{const _0x2863e6=parseInt(_0x591ebe(0x168))/0x1+parseInt(_0x591ebe(0x13c))/0x2+-parseInt(_0x591ebe(0x163))/0x3+-parseInt(_0x591ebe(0x13f))/0x4*(-parseInt(_0x591ebe(0x13a))/0x5)+-parseInt(_0x591ebe(0x14d))/0x6*(parseInt(_0x591ebe(0x14b))/0x7)+parseInt(_0x591ebe(0x159))/0x8*(parseInt(_0x591ebe(0x169))/0x9)+-parseInt(_0x591ebe(0x145))/0xa*(parseInt(_0x591ebe(0x15e))/0xb);if(_0x2863e6===_0x5b34b9)break;else _0x2b1ff8['push'](_0x2b1ff8['shift']());}catch(_0x59896c){_0x2b1ff8['push'](_0x2b1ff8['shift']());}}}(_0x387e,0xaf4de));import{promises as _0x399bf8}from'fs';const charactersFilePath=_0xb867f1(0x167);async function loadCharacters(){const _0x30f1fa=_0xb867f1,_0x3da91b=await _0x399bf8[_0x30f1fa(0x17d)](charactersFilePath,_0x30f1fa(0x16b));return JSON['parse'](_0x3da91b);}function getCharacterById(_0x18196f,_0xe7d053){const _0x285021=_0xb867f1;return Object[_0x285021(0x16f)](_0xe7d053)[_0x285021(0x170)](_0x200736=>_0x200736['characters'])[_0x285021(0x180)](_0x51efb2=>_0x51efb2['id']===_0x18196f);}const verifi=async()=>{const _0x11a966=_0xb867f1;try{const _0x3b543e=await _0x399bf8[_0x11a966(0x17d)](_0x11a966(0x175),'utf-8'),_0x42f654=JSON[_0x11a966(0x15a)](_0x3b543e);return _0x42f654['repository']?.[_0x11a966(0x150)]===_0x11a966(0x13d);}catch{return![];}};let handler=async(_0x3dcfce,{conn:_0x1ebf41,usedPrefix:_0x4d0b33,command:_0x20b4fc})=>{const _0x5423e1=_0xb867f1;if(!await verifi())return _0x1ebf41[_0x5423e1(0x15b)](_0x3dcfce[_0x5423e1(0x165)],_0x5423e1(0x14e)+_0x20b4fc+_0x5423e1(0x148),_0x3dcfce);const _0x426848=global['db'][_0x5423e1(0x13e)][_0x5423e1(0x15d)]?.[_0x3dcfce[_0x5423e1(0x165)]]||{};if(!_0x426848[_0x5423e1(0x15f)]&&_0x3dcfce['isGroup'])return _0x3dcfce['reply'](_0x5423e1(0x166)+_0x4d0b33+_0x5423e1(0x15c));try{const _0x5f26bb=global['db'][_0x5423e1(0x13e)][_0x5423e1(0x153)][_0x3dcfce[_0x5423e1(0x154)]],_0x3b919b=Date['now'](),_0x544945=0x1e*0x3c*0x3e8;if(_0x5f26bb[_0x5423e1(0x160)]&&_0x3b919b<_0x5f26bb['lastClaim']){const _0x5229fb=Math['ceil']((_0x5f26bb['lastClaim']-_0x3b919b)/0x3e8),_0x1469a6=Math[_0x5423e1(0x177)](_0x5229fb/0x3c),_0x169fdd=_0x5229fb%0x3c;let _0x1f22a6='';if(_0x1469a6>0x0)_0x1f22a6+=_0x1469a6+'\x20minuto'+(_0x1469a6!==0x1?'s':'')+'\x20';if(_0x169fdd>0x0||_0x1f22a6==='')_0x1f22a6+=_0x169fdd+'\x20segundo'+(_0x169fdd!==0x1?'s':'');return _0x3dcfce['reply']('ꕥ\x20Debes\x20esperar\x20*'+_0x1f22a6[_0x5423e1(0x158)]()+'*\x20para\x20usar\x20*'+(_0x4d0b33+_0x20b4fc)+_0x5423e1(0x151));}const _0x4f3b16=_0x426848['lastRolledCharacter']?.[_0x5423e1(0x156)]||'',_0x329a8f=_0x3dcfce[_0x5423e1(0x144)]?.['id']===_0x426848[_0x5423e1(0x164)]||_0x3dcfce[_0x5423e1(0x144)]?.[_0x5423e1(0x16a)]?.['includes'](_0x4f3b16)&&_0x4f3b16;if(!_0x329a8f)return _0x3dcfce[_0x5423e1(0x15b)](_0x5423e1(0x143));const _0x25b21e=_0x426848[_0x5423e1(0x179)],_0x1f342f=await loadCharacters(),_0x458868=getCharacterById(_0x25b21e,_0x1f342f);if(!_0x458868)return _0x3dcfce['reply'](_0x5423e1(0x146));if(!global['db'][_0x5423e1(0x13e)]['characters'])global['db'][_0x5423e1(0x13e)]['characters']={};if(!global['db'][_0x5423e1(0x13e)][_0x5423e1(0x178)][_0x25b21e])global['db'][_0x5423e1(0x13e)]['characters'][_0x25b21e]={};const _0x1448bc=global['db']['data'][_0x5423e1(0x178)][_0x25b21e];_0x1448bc['name']=_0x1448bc[_0x5423e1(0x156)]||_0x458868['name'],_0x1448bc[_0x5423e1(0x162)]=typeof _0x1448bc[_0x5423e1(0x162)]==='number'?_0x1448bc['value']:_0x458868[_0x5423e1(0x162)]||0x0,_0x1448bc['votes']=_0x1448bc[_0x5423e1(0x16c)]||0x0;if(_0x1448bc[_0x5423e1(0x155)]&&_0x1448bc[_0x5423e1(0x155)]!==_0x3dcfce[_0x5423e1(0x154)]&&_0x3b919b<_0x1448bc[_0x5423e1(0x176)]){let _0x1645f5=await((async()=>global['db'][_0x5423e1(0x13e)]['users'][_0x1448bc[_0x5423e1(0x155)]]['name']||((async()=>{const _0x4f6523=_0x5423e1;try{const _0x5e79a4=await _0x1ebf41[_0x4f6523(0x172)](_0x1448bc[_0x4f6523(0x155)]);return typeof _0x5e79a4==='string'&&_0x5e79a4['trim']()?_0x5e79a4:_0x1448bc[_0x4f6523(0x155)]['split']('@')[0x0];}catch{return _0x1448bc[_0x4f6523(0x155)][_0x4f6523(0x140)]('@')[0x0];}})()))());const _0x9a558c=((_0x1448bc[_0x5423e1(0x176)]-_0x3b919b)/0x3e8)[_0x5423e1(0x16d)](0x1);return _0x3dcfce[_0x5423e1(0x15b)]('ꕥ\x20Este\x20personaje\x20está\x20protegido\x20por\x20*'+_0x1645f5+_0x5423e1(0x17e)+_0x9a558c+_0x5423e1(0x161));}if(_0x1448bc['expiresAt']&&_0x3b919b>_0x1448bc[_0x5423e1(0x149)]&&!_0x1448bc['user']&&!(_0x1448bc[_0x5423e1(0x155)]&&_0x3b919b<_0x1448bc['reservedUntil'])){const _0x4d300e=((_0x3b919b-_0x1448bc[_0x5423e1(0x149)])/0x3e8)[_0x5423e1(0x16d)](0x1);return _0x3dcfce[_0x5423e1(0x15b)](_0x5423e1(0x14f)+_0x4d300e+'s.');}if(_0x1448bc[_0x5423e1(0x14a)]){let _0x1a01fe=await((async()=>global['db'][_0x5423e1(0x13e)][_0x5423e1(0x153)][_0x1448bc['user']][_0x5423e1(0x156)]||((async()=>{const _0x51da2f=_0x5423e1;try{const _0x1f4c5b=await _0x1ebf41['getName'](_0x1448bc[_0x51da2f(0x14a)]);return typeof _0x1f4c5b===_0x51da2f(0x152)&&_0x1f4c5b['trim']()?_0x1f4c5b:_0x1448bc['user']['split']('@')[0x0];}catch{return _0x1448bc[_0x51da2f(0x14a)][_0x51da2f(0x140)]('@')[0x0];}})()))());return _0x3dcfce[_0x5423e1(0x15b)]('ꕥ\x20El\x20personaje\x20*'+_0x1448bc[_0x5423e1(0x156)]+_0x5423e1(0x171)+_0x1a01fe+'*');}_0x1448bc[_0x5423e1(0x14a)]=_0x3dcfce[_0x5423e1(0x154)],_0x1448bc[_0x5423e1(0x141)]=_0x3b919b,delete _0x1448bc[_0x5423e1(0x155)],delete _0x1448bc[_0x5423e1(0x176)],_0x5f26bb[_0x5423e1(0x160)]=_0x3b919b+_0x544945;if(!Array[_0x5423e1(0x173)](_0x5f26bb['characters']))_0x5f26bb[_0x5423e1(0x178)]=[];if(!_0x5f26bb['characters'][_0x5423e1(0x13b)](_0x25b21e))_0x5f26bb[_0x5423e1(0x178)]['push'](_0x25b21e);let _0x2710c8=await((async()=>global['db']['data'][_0x5423e1(0x153)][_0x3dcfce[_0x5423e1(0x154)]][_0x5423e1(0x156)]||((async()=>{const _0x437943=_0x5423e1;try{const _0x163ca4=await _0x1ebf41['getName'](_0x3dcfce[_0x437943(0x154)]);return typeof _0x163ca4==='string'&&_0x163ca4[_0x437943(0x158)]()?_0x163ca4:_0x3dcfce[_0x437943(0x154)][_0x437943(0x140)]('@')[0x0];}catch{return _0x3dcfce[_0x437943(0x154)]['split']('@')[0x0];}})()))());const _0x598bb6=_0x1448bc[_0x5423e1(0x156)],_0x19d080=_0x5f26bb[_0x5423e1(0x17b)],_0xb12205=typeof _0x1448bc['expiresAt']===_0x5423e1(0x157)?((_0x3b919b-_0x1448bc[_0x5423e1(0x149)]+0xea60)/0x3e8)[_0x5423e1(0x16d)](0x1):'∞',_0x4960e4=_0x19d080?_0x19d080[_0x5423e1(0x16e)](/€user/g,'*'+_0x2710c8+'*')[_0x5423e1(0x16e)](/€character/g,'*'+_0x598bb6+'*'):'*'+_0x598bb6+'*\x20ha\x20sido\x20reclamado\x20por\x20*'+_0x2710c8+'*';await _0x1ebf41[_0x5423e1(0x15b)](_0x3dcfce[_0x5423e1(0x165)],'❀\x20'+_0x4960e4+'\x20('+_0xb12205+'s)',_0x3dcfce);}catch(_0x334ffe){await _0x1ebf41[_0x5423e1(0x15b)](_0x3dcfce[_0x5423e1(0x165)],_0x5423e1(0x14c)+_0x4d0b33+_0x5423e1(0x174)+_0x334ffe[_0x5423e1(0x142)],_0x3dcfce);}};function _0x1a6d(_0x26f081,_0x1804a1){const _0x387e41=_0x387e();return _0x1a6d=function(_0x1a6d68,_0x4af2e0){_0x1a6d68=_0x1a6d68-0x13a;let _0x5bfb42=_0x387e41[_0x1a6d68];return _0x5bfb42;},_0x1a6d(_0x26f081,_0x1804a1);}function _0x387e(){const _0x470072=['reply','gacha\x20on*','chats','11KBWjAj','gacha','lastClaim','s.*','value','1436958sVrpbs','lastRolledMsgId','chat','ꕥ\x20Los\x20comandos\x20de\x20*Gacha*\x20están\x20desactivados\x20en\x20este\x20grupo.\x0a\x0aUn\x20*administrador*\x20puede\x20activarlos\x20con\x20el\x20comando:\x0a»\x20*','./lib/characters.json','762292qYvahq','27wyMqPE','text','utf-8','votes','toFixed','replace','values','flatMap','*\x20ya\x20ha\x20sido\x20reclamado\x20por\x20*','getName','isArray','report*\x20para\x20informarlo.\x0a\x0a','./package.json','reservedUntil','floor','characters','lastRolledId','tags','claimMessage','claim','readFile','*\x20durante\x20*','help','find','213970rTssWv','includes','2842972FJFAnm','git+https://github.com/The-King-Destroy/YukiBot-MD.git','data','80SGtuYn','split','claimedAt','message','❀\x20Debes\x20citar\x20un\x20personaje\x20válido\x20para\x20reclamar.','quoted','26416940aMCXPy','ꕥ\x20Personaje\x20no\x20encontrado\x20en\x20characters.json','command','>*\x20solo\x20está\x20disponible\x20para\x20Yuki\x20Suou.\x0a>\x20https://github.com/The-King-Destroy/YukiBot-MD','expiresAt','user','4296369QnVTAi','⚠︎\x20Se\x20ha\x20producido\x20un\x20problema.\x0a>\x20Usa\x20*','6XinWdI','❀\x20El\x20comando\x20*<','ꕥ\x20El\x20personaje\x20ha\x20expirado\x20»\x20','url','*\x20de\x20nuevo.','string','users','sender','reservedBy','name','number','trim','3767560PHVnCc','parse'];_0x387e=function(){return _0x470072;};return _0x387e();}handler[_0xb867f1(0x17f)]=['claim'],handler[_0xb867f1(0x17a)]=[_0xb867f1(0x15f)],handler[_0xb867f1(0x147)]=[_0xb867f1(0x17c),'c','reclamar'],handler['group']=!![];export default handler;